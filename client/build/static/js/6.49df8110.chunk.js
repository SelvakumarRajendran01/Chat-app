(window.webpackJsonpcreative=window.webpackJsonpcreative||[]).push([[6,7],{105:function(e,a){},112:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=(t(79),t(69)),c=t.n(o);a.default=e=>{let{onSubmit:a,onChangePage:t,errors:r}=e;return n.a.createElement("div",{className:"__SignIn"},n.a.createElement("div",{className:"__container"},n.a.createElement("div",{className:"__left_side"},n.a.createElement("div",{className:"__user_image"}),n.a.createElement("h3",null,"Sign In Your Account"),n.a.createElement("p",null,"Create a new account"),n.a.createElement("div",{className:"__form"},r&&n.a.createElement("span",{className:"error"},"Email or Password incorrect"),n.a.createElement("form",{onSubmit:a},n.a.createElement("input",{type:"email",name:"email",placeholder:"Email"}),n.a.createElement("input",{type:"password",name:"password",placeholder:"Password"}),n.a.createElement("button",{type:"submit",style:{cursor:"pointer",marginTop:"5px"}},"Submit")))),n.a.createElement("div",{className:"__right_side"},n.a.createElement("div",{className:"__right_content"},n.a.createElement("img",{src:c.a,alt:"whatsapp-icon",className:"__right_content__whatsapp-icon"}),n.a.createElement("h2",null,"Hey you, Welcome"),n.a.createElement("p",null,"Objectively benchmark empowered collaboration and idea-sharing via focused e-commerce. Continually foster viral."),n.a.createElement("button",{onClick:t,style:{cursor:"pointer"}},"Sign Up")))))}},183:function(e,a,t){},184:function(e,a,t){e.exports=t.p+"static/media/profile-icon.39d9a472.svg"},185:function(e,a,t){},223:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(2),c=(t(183),t(184)),s=t.n(c),i=(t(185),t(113)),l=Object(i.a)(r.createElement("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto"),u=t(201),d=t(69),m=t.n(d);var p=e=>{let{onSubmit:a,onChangePage:t,errors:o}=e;const[c,i]=Object(r.useState)(null),[d,p]=Object(r.useState)(!1),f=Object(u.a)(),{cameraIconColor:h}=f.palette.icon,[g,b]=Object(r.useState)(""),[y,E]=Object(r.useState)(""),w=e=>e.map(e=>n.a.createElement("span",{className:"error"},e));return n.a.createElement("div",{className:"__wrapper"},n.a.createElement("div",{className:"__container"},n.a.createElement("div",{className:"__left_side"},n.a.createElement("div",{className:"__user_image"},n.a.createElement("label",{for:"file-input",className:"__user__image__profile-icon-container"},n.a.createElement("img",{type:"file",src:c||s.a,alt:""}),!c&&n.a.createElement(l,{className:"__user__image__profile-icon-container__camera-icon",style:{color:h,fontSize:"2.2rem"}}))),n.a.createElement("h3",null,"Create Account"),n.a.createElement("p",null,"Create a new account"),n.a.createElement("div",{className:"__form"},n.a.createElement("form",{onSubmit:a,style:{padding:"0px"}},n.a.createElement("input",{id:"file-input",type:"file",placeholder:"Profile icon",name:"profileImageInput",className:"file-input",accept:"image/*",onChange:e=>e.target.files[0]?i(URL.createObjectURL(e.target.files[0])):i(null)}),o.displayNameErrors&&w(o.displayNameErrors),n.a.createElement("input",{type:"text",name:"displayName",placeholder:"Display Name"}),o.emailErrors&&w(o.emailErrors),n.a.createElement("input",{type:"email",name:"email",placeholder:"Email"}),o.passwordErrors&&w(o.passwordErrors),n.a.createElement("input",{type:d?"text":"password",name:"password",placeholder:"Password",value:g,onChange:e=>b(e.target.value)}),g!==y&&w(["Password and confirm password didn't match"]),n.a.createElement("label",{htmlFor:"",onClick:()=>{p(!d)},style:{cursor:"pointer"}},d?"hide":"show"),n.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:y,onChange:e=>E(e.target.value)}),n.a.createElement("button",{type:"submit",style:{cursor:"pointer",marginTop:"5px"}},"Submit")))),n.a.createElement("div",{className:"__right_side"},n.a.createElement("div",{className:"__right_content"},n.a.createElement("img",{src:m.a,alt:"whatsapp-icon",className:"__right_content__whatsapp-icon"}),n.a.createElement("h2",null,"Hey you, Welcome"),n.a.createElement("p",null,"Objectively benchmark empowered collaboration and idea-sharing via focused e-commerce. Continually foster viral."),n.a.createElement("button",{type:"submit",onClick:t,style:{cursor:"pointer"}},"Sign In")))))},f=t(112),h=t(13),g=t(53),b=t(60),y=t(218),E=t(71),w=t(187);a.default=e=>{const[a,t]=Object(r.useState)(!0),c=Object(h.b)(),{email:s,signUpErrors:i,signInErrors:l}=Object(h.c)(e=>e.user),u=Object(o.g)(),[d,m]=Object(r.useState)(!0),v=Object(h.c)(e=>e.system.currentTheme);Object(r.useEffect)(()=>{c(Object(g.c)()),c(Object(g.b)())},[]);const _=Object(w.a)((()=>{switch(v){case"light":return E.b;case"dark":return E.a}})());return s?(u.push("/"),n.a.createElement(n.a.Fragment,null)):n.a.createElement(y.a,{theme:_},n.a.createElement("div",null,d?n.a.createElement(f.default,{onSubmit:e=>{e.preventDefault();const{email:a,password:t}=e.target.elements;c(Object(g.f)(a.value,t.value,b.b.id))},onChangePage:()=>m(!1),errors:l}):n.a.createElement(p,{onSubmit:async e=>{e.preventDefault();const{displayName:a,email:t,password:r,profileImageInput:n,confirmPassword:o}=e.target.elements;if(r.value!==o.value)return void console.log("Passwords do not match");const s={displayName:a.value,email:t.value,password:r.value,profilePic:n.files[0]||null,socketId:b.b.id};c(Object(g.h)(s))},onChangePage:()=>m(!0),errors:{...i}})))}},53:function(e,a,t){"use strict";var r=t(3),n=t(59);const o=(e,a)=>new Promise((function(t,r){const o={url:e,data:a,onSuccess:e=>{t(e)},onError:e=>{r(e),console.log("api error",e)}};n.d(o.url,o.data,o.onSuccess,o.onError)}));var c=t(56);t.d(a,"h",(function(){return l})),t.d(a,"f",(function(){return u})),t.d(a,"e",(function(){return d})),t.d(a,"d",(function(){return m})),t.d(a,"g",(function(){return p})),t.d(a,"j",(function(){return f})),t.d(a,"i",(function(){return h})),t.d(a,"a",(function(){return g})),t.d(a,"c",(function(){return b})),t.d(a,"b",(function(){return y}));const s=e=>{const a={};return e.forEach(e=>{a[e]=!0}),a},i=(e,a)=>({type:e,payLoad:a}),l=e=>async(a,t)=>{try{if(t().user.isSigningUp)return;a(i(r.f));const c=await(o=e,new Promise((function(e,a){const t={url:"/auth/signup",data:o,onSuccess:a=>{e(a)},onError:e=>{a(e),console.log("api error",e)}};n.f(t.url,t.data,t.onSuccess,t.onError)})));sessionStorage.setItem("accesToken",c.accessToken,{expires:365,path:"/"}),c.friendList=s(c.friendList),a(i(r.o,c))}catch(c){const e=c.response.data.errors,t=[],n=[],o=[];e.forEach(e=>{const a=e.msg.split(" ");switch(a.shift()){case"Display-name":n.push(a.join(" "));break;case"Password":o.push(a.join(" "));break;case"Email":t.push(a.join(" "))}}),a(i(r.k,{emailErrors:t,displayNameErrors:n,passwordErrors:o}))}var o},u=(e,a,t)=>async n=>{try{const s=await(c={email:e,password:a,socketId:t},o("/auth/signin",c));console.log(s.accessToken,"this is it"),sessionStorage.setItem("accesToken",s.accessToken,{expires:365,path:"/"}),n(i(r.o,s))}catch(s){console.log(s),n(i(r.j,"Email or password incorrect"))}var c},d=e=>async a=>{try{if(!e)return void a(i(r.e,[]));a(i(r.i));const t=await c.c(e);a(i(r.e,t))}catch(t){console.log(t)}},m=()=>async(e,a)=>{const t=a().user.id;try{const a=await c.a(t);a.friendList=s(a.friendList),e(i(r.o,a))}catch(n){console.log(n)}},p=()=>async e=>{sessionStorage.removeItem("accesToken",{path:"/"}),e(i(r.o,{displayName:"",profileImage:null,email:"",chatRooms:null,lastSeen:null,accountCreatedAt:"",searchedUsers:[],id:""}))},f=(e,a)=>async(t,n)=>{try{const{id:o,...s}=n().user;switch(e){case"photo":t(i(r.m));break;case"status":t(i(r.n));break;case"display-name":t(i(r.l))}const l=await c.d(o,a);switch(l.prevStatus=s.status||"",l.prevDisplayName=s.displayName||"",t(i(r.o,l)),e){case"photo":t(i(r.r));break;case"status":t(i(r.s));break;case"display-name":t(i(r.q))}}catch(o){console.log(o)}},h=e=>async(a,t)=>{const{prevStatus:r,prevDisplayName:n}=t().user;switch(e){case"display-name":a(f("display-name",{displayName:n}));break;case"status":a(f("status",{status:r}))}},g=(e,a)=>i(r.a,{roomId:e,text:a}),b=()=>i(r.c),y=()=>i(r.b)},56:function(e,a,t){"use strict";t.d(a,"a",(function(){return n})),t.d(a,"c",(function(){return o})),t.d(a,"d",(function(){return c})),t.d(a,"b",(function(){return s}));var r=t(59);const n=e=>i("/users/singleuser/"+e),o=e=>u("/users/search/"+e),c=(e,a)=>l("/users/updateuser/"+e,a),s=e=>i("/users/getidbyemail/"+e),i=e=>new Promise((function(a,t){const n={url:e,onSuccess:e=>{a(e)},onError:e=>{t(e),console.log("api error",e)}};r.b(n.url,n.onSuccess,n.onError)})),l=(e,a)=>new Promise((function(t,n){const o={url:e,data:a,onSuccess:e=>{t(e)},onError:e=>{n(e),console.log("api error",e)}};r.e(o.url,o.data,o.onSuccess,o.onError)}));const u=e=>new Promise((function(a,t){const n={url:e,onSuccess:e=>{a(e)},onError:e=>{t(e),console.log("api error",e)}};r.c(n.url,n.onSuccess,n.onError)}))},59:function(e,a,t){"use strict";t.d(a,"c",(function(){return s})),t.d(a,"b",(function(){return i})),t.d(a,"a",(function(){return l})),t.d(a,"d",(function(){return u})),t.d(a,"f",(function(){return d})),t.d(a,"e",(function(){return m}));var r=t(82),n=t.n(r);function o(){return sessionStorage.getItem("accesToken",{path:"/"})}const c=Object(r.create)({baseURL:"/api"}),s=async(e,a,t)=>{try{window.source&&(window.source.cancel(),window.source=null);const t=n.a.CancelToken;window.source=t.source();const{data:r}=await c({mathod:"get",url:e,responseType:"application/json",cancelToken:window.source.token,headers:{authorization:"bearer "+o()}});a(r)}catch(r){t(r)}},i=async(e,a,t)=>{try{const{data:t}=await c({mathod:"get",url:e,responseType:"application/json",headers:{authorization:"bearer "+o()}});a(t)}catch(r){t(r)}},l=async(e,a,t)=>{try{const{data:t}=await c({mathod:"delete",url:e,responseType:"application/json",headers:{authorization:"bearer "+o()}});a(t)}catch(r){t(r)}},u=async(e,a,t,r)=>{try{const{data:r}=await c({method:"post",url:e,data:a,responseType:"application/json",headers:{authorization:"bearer "+o()}});t(r)}catch(n){r(n)}},d=async(e,a,t,r)=>{try{const{data:r}=await c({method:"post",url:e,data:a,responseType:"application/json"});t(r)}catch(n){r(n)}},m=async(e,a,t,r)=>{try{const{data:r}=await c({method:"put",url:e,data:a,responseType:"application/json",headers:{authorization:"bearer "+o()}});t(r)}catch(n){r(n)}}},60:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"c",(function(){return u})),t.d(a,"d",(function(){return d}));var r=t(96),n=t.n(r),o=t(15),c=t(63),s=t(53);t(56);const i=n()("/");i.on("msg-sent",e=>{o.b.dispatch(Object(c.a)(e))}),i.on("room-created",()=>{o.b.dispatch(Object(s.d)())}),i.on("req-join-room",e=>{o.b.dispatch(Object(s.d)()),u(e)});const l=(e,a)=>{i.emit("join-room",{userId:e,user2Id:a})},u=e=>{i.emit("just-join-room",{roomId:e})},d=e=>{let{userId:a,roomId:t,text:r}=e;console.log("this is the socket id",i.id),i.emit("send-msg",{userId:a,roomId:t,text:r,socketId:i.id})};a.b=i},63:function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"a",(function(){return c}));var r=t(3);const n=(e,a)=>({type:e,payLoad:a}),o=e=>n(r.g,e),c=e=>n(r.d,e)},69:function(e,a,t){e.exports=t.p+"static/media/whatsapp-icon.0e878a0f.svg"},71:function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"a",(function(){return n}));const r={palette:{background:{outerBackground:"#dddbd1",outerBackgroundImage:"linear-gradient(180deg,#dddbd1,#d2dbdc)",innerBackground:"#f8f9fa",headerBackground:"#ededed",searchInputBackground:"#fff",searchContainerBackground:"#f6f6f6",siderBarChatListBackground:"#fff",headerColorLight:"#00bfa5",chatListBackgroundActive:"#ebebeb",chatListBackgroundHover:"#f5f5f5",uploadPicOverlayBackground:"hsla(0,0%,40%,0.8)",profileDrawerBackground:"#ededed",headerDarkBackground:"#009688",notificationBackground:"rgba(0,0,0,0.82)",outGoingBackground:"#dcf8c6",incommingBackground:"#fff",systemMessageBackground:"rgba(225,245,254,0.92)",bannerBackground:"#009688",buttonBackground:"#009688",buttonBackgroundHover:"#00bfa5"},icon:{hederIconColor:"#919191",addedUserIconNumber:"#1b9a59",cameraIconColor:"#25d366",arrowIconColor:"#4fc3f7",iconColor:"#919191"},text:{primaryStrong:"#000",inverseStrong:"#fff",notificationHighlight:"#ff0"},border:{borderStronger:"rgba(0,0,0,0.08)",borderIntro:"#4adf83"}},outerBoxShadow:"0 1px 1px 0 rgba(0,0,0,.06),0 2px 5px 0 rgba(0,0,0,.2)"},n={palette:{background:{outerBackground:"black",innerBackground:"black"}}}},79:function(e,a,t){}}]);
//# sourceMappingURL=6.49df8110.chunk.js.map