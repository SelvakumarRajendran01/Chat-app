{"ast":null,"code":"import*as actionTypes from\"../actions/actionTypes\";const INITIAL_STATE={prevDisplayName:\"\",displayName:\"\",profileImage:null,email:\"\",chatRooms:null,lastSeen:null,accountCreatedAt:\"\",searchedUsers:[],id:\"\",prevStatus:\"\",friendList:null,status:\"\",updatingDisplayName:false,updatingStatus:false,updatingPhoto:false,signUpErrors:null,signInErrors:null,isSigningUp:false,isSearchingUsers:false};const userReducer=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;let action=arguments.length>1?arguments[1]:undefined;const{type,payLoad}=action;switch(type){case actionTypes.SET_USER_DETAIL:{const{displayName,profileImage,email,chatRooms,lastSeen,createdAt,status,_id:id,prevStatus,prevDisplayName,friendList}=payLoad;return{...state,displayName,profileImage,email,chatRooms,lastSeen,accountCreatedAt:createdAt,id,status,prevStatus,prevDisplayName,friendList,signUpErrors:null};}case actionTypes.GET_USERS_BY_NAME:return{...state,searchedUsers:payLoad,isSearchingUsers:false};case actionTypes.GET_MESSAGE:{const{roomIndex,roomId,...newChat}=payLoad;let chatRooms=[...state.chatRooms];let newChatInRoom;chatRooms=chatRooms.filter(room=>{if(room._id===roomId){newChatInRoom=room;return false;}return true;});if(!newChatInRoom){return{...state};}newChatInRoom.chats.push(newChat);chatRooms.unshift(newChatInRoom);return{...state,chatRooms};}case actionTypes.SET_UPDATING_DISPLAY_NAME:return{...state,updatingDisplayName:true};case actionTypes.UNSET_UPDATING_DISPLAY_NAME:return{...state,updatingDisplayName:false};case actionTypes.SET_UPDATING_PHOTO:return{...state,updatingPhoto:true};case actionTypes.UNSET_UPDATING_PHOTO:return{...state,updatingPhoto:false};case actionTypes.SET_UPDATING_STATUS:return{...state,updatingStatus:true};case actionTypes.UNSET_UPDATING_STATUS:return{...state,updatingStatus:false};case actionTypes.ADD_CHAT_TO_ROOM:{const{text,roomId}=payLoad;const chatRooms=[...state.chatRooms];const index=chatRooms.findIndex(room=>room._id===roomId);chatRooms[index].chats.push({sender:state.id,text,time:Date.now()});return{...state,chatRooms};}case actionTypes.SET_SIGN_UP_ERRORS:return{...state,signUpErrors:payLoad,isSigningUp:false};case actionTypes.CLEAR_SIGN_UP_ERRORS:return{...state,signUpErrors:null,isSigningUp:false};case actionTypes.SET_SIGN_IN_ERRORS:return{...state,signInErrors:payLoad};case actionTypes.CLEAR_SIGN_IN_ERRORS:return{...state,signInErrors:null};case actionTypes.IS_SIGNING_UP:return{...state,isSigningUp:true};case actionTypes.SET_IS_SEARCHING_USERS:return{...state,isSearchingUsers:true};case actionTypes.UNSET_IS_SEARCHING_USERS:return{...state,isSearchingUsers:false};default:return state;}};export default userReducer;","map":{"version":3,"names":["actionTypes","INITIAL_STATE","prevDisplayName","displayName","profileImage","email","chatRooms","lastSeen","accountCreatedAt","searchedUsers","id","prevStatus","friendList","status","updatingDisplayName","updatingStatus","updatingPhoto","signUpErrors","signInErrors","isSigningUp","isSearchingUsers","userReducer","state","arguments","length","undefined","action","type","payLoad","SET_USER_DETAIL","createdAt","_id","GET_USERS_BY_NAME","GET_MESSAGE","roomIndex","roomId","newChat","newChatInRoom","filter","room","chats","push","unshift","SET_UPDATING_DISPLAY_NAME","UNSET_UPDATING_DISPLAY_NAME","SET_UPDATING_PHOTO","UNSET_UPDATING_PHOTO","SET_UPDATING_STATUS","UNSET_UPDATING_STATUS","ADD_CHAT_TO_ROOM","text","index","findIndex","sender","time","Date","now","SET_SIGN_UP_ERRORS","CLEAR_SIGN_UP_ERRORS","SET_SIGN_IN_ERRORS","CLEAR_SIGN_IN_ERRORS","IS_SIGNING_UP","SET_IS_SEARCHING_USERS","UNSET_IS_SEARCHING_USERS"],"sources":["/Users/mohanselva/Desktop/Private_Projects/Chat-app/client/src/store/reducers/userReducer.js"],"sourcesContent":["import * as actionTypes from \"../actions/actionTypes\";\n\nconst INITIAL_STATE = {\n  prevDisplayName:\"\",\n  displayName: \"\",\n  profileImage: null,\n  email: \"\",\n  chatRooms: null,\n  lastSeen: null,\n  accountCreatedAt: \"\",\n  searchedUsers: [],\n  id: \"\",\n  prevStatus:\"\",\n  friendList:null,\n  status: \"\",\n  updatingDisplayName: false,\n  updatingStatus: false,\n  updatingPhoto: false,\n  signUpErrors:null,\n  signInErrors:null,\n  isSigningUp:false,\n  isSearchingUsers:false,\n};\n\nconst userReducer = (state = INITIAL_STATE, action) => {\n  const { type, payLoad } = action;\n\n  switch (type) {\n    case actionTypes.SET_USER_DETAIL: {\n      const {\n        displayName,\n        profileImage,\n        email,\n        chatRooms,\n        lastSeen,\n        createdAt,\n        status,\n        _id: id,\n        prevStatus,\n        prevDisplayName,\n        friendList,\n      } = payLoad;\n      return {\n        ...state,\n        displayName,\n        profileImage,\n        email,\n        chatRooms,\n        lastSeen,\n        accountCreatedAt: createdAt,\n        id,\n        status,\n        prevStatus,\n        prevDisplayName,\n        friendList,\n        signUpErrors:null,\n      };\n    }\n    case actionTypes.GET_USERS_BY_NAME:\n      return { ...state, searchedUsers: payLoad, isSearchingUsers:false };\n\n    case actionTypes.GET_MESSAGE: {\n      const { roomIndex, roomId, ...newChat } = payLoad;\n      let chatRooms = [...state.chatRooms];\n      let newChatInRoom;\n      chatRooms = chatRooms.filter((room) => {\n        if (room._id === roomId) {\n          newChatInRoom = room;\n          return false;\n        }\n        return true;\n      });\n      if(!newChatInRoom)\n        {\n          return {...state};\n        }\n      newChatInRoom.chats.push(newChat);\n      chatRooms.unshift(newChatInRoom);\n      return { ...state, chatRooms };\n    }\n\n    case actionTypes.SET_UPDATING_DISPLAY_NAME:\n      return { ...state, updatingDisplayName: true };\n    case actionTypes.UNSET_UPDATING_DISPLAY_NAME:\n      return { ...state, updatingDisplayName: false };\n\n    case actionTypes.SET_UPDATING_PHOTO:\n      return { ...state, updatingPhoto: true };\n    case actionTypes.UNSET_UPDATING_PHOTO:\n      return { ...state, updatingPhoto: false };\n\n    case actionTypes.SET_UPDATING_STATUS:\n      return { ...state, updatingStatus: true };\n    case actionTypes.UNSET_UPDATING_STATUS:\n      return { ...state, updatingStatus: false };\n\n    case actionTypes.ADD_CHAT_TO_ROOM:{\n      const {text,roomId} = payLoad;\n      const chatRooms = [...state.chatRooms];\n      const index = chatRooms.findIndex(room => room._id === roomId);\n      chatRooms[index].chats.push({\n        sender:state.id,\n        text,\n        time:Date.now(),\n      });\n      return {...state,chatRooms};\n    }\n    case actionTypes.SET_SIGN_UP_ERRORS:\n      return {...state,signUpErrors:payLoad,isSigningUp:false};\n    case actionTypes.CLEAR_SIGN_UP_ERRORS:\n      return {...state, signUpErrors:null,isSigningUp:false};\n    case actionTypes.SET_SIGN_IN_ERRORS:\n      return {...state,signInErrors:payLoad};\n    case actionTypes.CLEAR_SIGN_IN_ERRORS:\n      return {...state,signInErrors:null}\n    case actionTypes.IS_SIGNING_UP:\n      return {...state,isSigningUp:true};  \n    case actionTypes.SET_IS_SEARCHING_USERS:\n      return {...state, isSearchingUsers:true};\n    case actionTypes.UNSET_IS_SEARCHING_USERS:\n      return {...state,isSearchingUsers:false};   \n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}