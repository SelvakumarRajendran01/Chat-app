{"ast":null,"code":"import io from \"socket.io-client\";\nimport { store } from \"../store\";\nimport { getNewChatFromSocket } from \"../store/actions/roomAction.js\";\nimport { getUserDetail } from \"../store/actions/userAction.js\";\nimport { updateUserById } from \"../api/usersApi.js\";\nexport const socket = io(\"/\");\nsocket.on(\"msg-sent\", data => {\n  store.dispatch(getNewChatFromSocket(data));\n});\nsocket.on(\"room-created\", () => {\n  store.dispatch(getUserDetail());\n});\nsocket.on(\"req-join-room\", roomId => {\n  store.dispatch(getUserDetail());\n  justJoinRoom(roomId);\n});\nexport const createRoomAndJoinSocket = (userId, user2Id) => {\n  socket.emit(\"join-room\", {\n    userId,\n    user2Id\n  });\n};\nexport const justJoinRoom = roomId => {\n  socket.emit(\"just-join-room\", {\n    roomId\n  });\n};\nexport const sendMessageSocket = ({\n  userId,\n  roomId,\n  text\n}) => {\n  console.log(\"this is the socket id\", socket.id);\n  socket.emit(\"send-msg\", {\n    userId,\n    roomId,\n    text,\n    socketId: socket.id\n  });\n};\nexport default socket;","map":{"version":3,"names":["io","store","getNewChatFromSocket","getUserDetail","updateUserById","socket","on","data","dispatch","roomId","justJoinRoom","createRoomAndJoinSocket","userId","user2Id","emit","sendMessageSocket","text","console","log","id","socketId"],"sources":["/Users/mohanselva/Desktop/Private_Projects/Chat-app/client/src/utils/socketUtils.js"],"sourcesContent":["import io from \"socket.io-client\";\nimport { store } from \"../store\";\nimport { getNewChatFromSocket } from \"../store/actions/roomAction.js\";\nimport { getUserDetail } from \"../store/actions/userAction.js\";\nimport { updateUserById } from \"../api/usersApi.js\";\n\nexport const socket = io(\"/\");\n\nsocket.on(\"msg-sent\", (data) => {\n  store.dispatch(getNewChatFromSocket(data));\n});\n\nsocket.on(\"room-created\", () => {\n  store.dispatch(getUserDetail());\n});\n\nsocket.on(\"req-join-room\", (roomId) => {\n  store.dispatch(getUserDetail());\n  justJoinRoom(roomId);\n});\n\nexport const createRoomAndJoinSocket = (userId, user2Id) => {\n  socket.emit(\"join-room\", { userId, user2Id });\n};\n\nexport const justJoinRoom = (roomId) => {\n  socket.emit(\"just-join-room\", { roomId });\n};\n\nexport const sendMessageSocket = ({ userId, roomId, text }) => {\n  console.log(\"this is the socket id\", socket.id);\n  socket.emit(\"send-msg\", { userId, roomId, text, socketId: socket.id });\n};\n\nexport default socket;\n"],"mappings":"AAAA,OAAOA,EAAE,MAAM,kBAAkB;AACjC,SAASC,KAAK,QAAQ,UAAU;AAChC,SAASC,oBAAoB,QAAQ,gCAAgC;AACrE,SAASC,aAAa,QAAQ,gCAAgC;AAC9D,SAASC,cAAc,QAAQ,oBAAoB;AAEnD,OAAO,MAAMC,MAAM,GAAGL,EAAE,CAAC,GAAG,CAAC;AAE7BK,MAAM,CAACC,EAAE,CAAC,UAAU,EAAGC,IAAI,IAAK;EAC9BN,KAAK,CAACO,QAAQ,CAACN,oBAAoB,CAACK,IAAI,CAAC,CAAC;AAC5C,CAAC,CAAC;AAEFF,MAAM,CAACC,EAAE,CAAC,cAAc,EAAE,MAAM;EAC9BL,KAAK,CAACO,QAAQ,CAACL,aAAa,CAAC,CAAC,CAAC;AACjC,CAAC,CAAC;AAEFE,MAAM,CAACC,EAAE,CAAC,eAAe,EAAGG,MAAM,IAAK;EACrCR,KAAK,CAACO,QAAQ,CAACL,aAAa,CAAC,CAAC,CAAC;EAC/BO,YAAY,CAACD,MAAM,CAAC;AACtB,CAAC,CAAC;AAEF,OAAO,MAAME,uBAAuB,GAAGA,CAACC,MAAM,EAAEC,OAAO,KAAK;EAC1DR,MAAM,CAACS,IAAI,CAAC,WAAW,EAAE;IAAEF,MAAM;IAAEC;EAAQ,CAAC,CAAC;AAC/C,CAAC;AAED,OAAO,MAAMH,YAAY,GAAID,MAAM,IAAK;EACtCJ,MAAM,CAACS,IAAI,CAAC,gBAAgB,EAAE;IAAEL;EAAO,CAAC,CAAC;AAC3C,CAAC;AAED,OAAO,MAAMM,iBAAiB,GAAGA,CAAC;EAAEH,MAAM;EAAEH,MAAM;EAAEO;AAAK,CAAC,KAAK;EAC7DC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEb,MAAM,CAACc,EAAE,CAAC;EAC/Cd,MAAM,CAACS,IAAI,CAAC,UAAU,EAAE;IAAEF,MAAM;IAAEH,MAAM;IAAEO,IAAI;IAAEI,QAAQ,EAAEf,MAAM,CAACc;EAAG,CAAC,CAAC;AACxE,CAAC;AAED,eAAed,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}