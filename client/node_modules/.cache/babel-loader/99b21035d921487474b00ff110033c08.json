{"ast":null,"code":"var _jsxFileName = \"/Users/mohanselva/Desktop/Private_Projects/Chat-app/client/src/containers/Login/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./index.scss\";\nimport SignUp from \"../../components/Signup\";\nimport Signin from \"../../components/Signin\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { signUpAsync, signInAsync, clearSignUpErrors, clearSignInErrors } from \"../../store/actions/userAction\";\nimport socket from \"../../utils/socketUtils.js\";\nimport { ThemeProvider } from \"@material-ui/core\";\nimport { lightTheme, darkTheme } from \"../../utils/theme.js\";\nimport { createMuiTheme, makeStyles } from \"@material-ui/core/styles\";\nconst Login = props => {\n  const [toggle, setToggle] = useState(true);\n  const dispatch = useDispatch();\n  const {\n    email: userExist,\n    signUpErrors,\n    signInErrors\n  } = useSelector(state => state.user);\n  const history = useHistory();\n  const [isSigninPage, setIsSignInPage] = useState(true);\n  const currentTheme = useSelector(state => state.system.currentTheme);\n  const handleLogin = e => {\n    e.preventDefault();\n    const {\n      email,\n      password\n    } = e.target.elements;\n    dispatch(signInAsync(email.value, password.value, socket.id));\n  };\n  useEffect(() => {\n    dispatch(clearSignUpErrors());\n    dispatch(clearSignInErrors());\n  }, []);\n  const getTheme = () => {\n    switch (currentTheme) {\n      case \"light\":\n        return lightTheme;\n      case \"dark\":\n        return darkTheme;\n    }\n  };\n  const appliedTheme = createMuiTheme(getTheme());\n  const handleSignUp = async event => {\n    event.preventDefault();\n    const {\n      displayName,\n      email,\n      password,\n      profileImageInput,\n      confirmPassword\n    } = event.target.elements;\n\n    // Password confirmation check\n    if (password.value !== confirmPassword.value) {\n      console.log(\"Passwords do not match\");\n      return;\n    }\n    const Data = {\n      displayName: displayName.value,\n      email: email.value,\n      password: password.value,\n      profilePic: profileImageInput.files[0] || null,\n      socketId: socket.id\n    };\n\n    // Dispatch the action\n    dispatch(signUpAsync(Data));\n  };\n  if (userExist) {\n    history.push(\"/\");\n    return /*#__PURE__*/React.createElement(React.Fragment, null);\n  }\n  return /*#__PURE__*/React.createElement(ThemeProvider, {\n    theme: appliedTheme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, isSigninPage ? /*#__PURE__*/React.createElement(Signin, {\n    onSubmit: handleLogin,\n    onChangePage: () => setIsSignInPage(false),\n    errors: signInErrors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(SignUp, {\n    onSubmit: handleSignUp,\n    onChangePage: () => setIsSignInPage(true),\n    errors: {\n      ...signUpErrors\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  })));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","useEffect","useHistory","SignUp","Signin","useDispatch","useSelector","signUpAsync","signInAsync","clearSignUpErrors","clearSignInErrors","socket","ThemeProvider","lightTheme","darkTheme","createMuiTheme","makeStyles","Login","props","toggle","setToggle","dispatch","email","userExist","signUpErrors","signInErrors","state","user","history","isSigninPage","setIsSignInPage","currentTheme","system","handleLogin","e","preventDefault","password","target","elements","value","id","getTheme","appliedTheme","handleSignUp","event","displayName","profileImageInput","confirmPassword","console","log","Data","profilePic","files","socketId","push","createElement","Fragment","theme","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChangePage","errors"],"sources":["/Users/mohanselva/Desktop/Private_Projects/Chat-app/client/src/containers/Login/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./index.scss\";\nimport SignUp from \"../../components/Signup\";\nimport Signin from \"../../components/Signin\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  signUpAsync,\n  signInAsync,\n  clearSignUpErrors,\n  clearSignInErrors,\n} from \"../../store/actions/userAction\";\nimport socket from \"../../utils/socketUtils.js\";\nimport { ThemeProvider } from \"@material-ui/core\";\nimport { lightTheme, darkTheme } from \"../../utils/theme.js\";\nimport { createMuiTheme, makeStyles } from \"@material-ui/core/styles\";\n\nconst Login = (props) => {\n  const [toggle, setToggle] = useState(true);\n  const dispatch = useDispatch();\n  const {\n    email: userExist,\n    signUpErrors,\n    signInErrors,\n  } = useSelector((state) => state.user);\n  const history = useHistory();\n  const [isSigninPage, setIsSignInPage] = useState(true);\n  const currentTheme = useSelector((state) => state.system.currentTheme);\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    const { email, password } = e.target.elements;\n    dispatch(signInAsync(email.value, password.value, socket.id));\n  };\n\n  useEffect(() => {\n    dispatch(clearSignUpErrors());\n    dispatch(clearSignInErrors());\n  }, []);\n\n  const getTheme = () => {\n    switch (currentTheme) {\n      case \"light\":\n        return lightTheme;\n      case \"dark\":\n        return darkTheme;\n    }\n  };\n\n  const appliedTheme = createMuiTheme(getTheme());\n\n  const handleSignUp = async (event) => {\n    event.preventDefault();\n\n    const { displayName, email, password, profileImageInput, confirmPassword } =\n      event.target.elements;\n\n    // Password confirmation check\n    if (password.value !== confirmPassword.value) {\n      console.log(\"Passwords do not match\");\n      return;\n    }\n    const Data = {\n      displayName: displayName.value,\n      email: email.value,\n      password: password.value,\n      profilePic: profileImageInput.files[0] || null,\n      socketId: socket.id,\n    };\n\n    // Dispatch the action\n    dispatch(signUpAsync(Data));\n  };\n\n  if (userExist) {\n    history.push(\"/\");\n    return <></>;\n  }\n\n  return (\n    <ThemeProvider theme={appliedTheme}>\n      <div>\n        {isSigninPage ? (\n          <Signin\n            onSubmit={handleLogin}\n            onChangePage={() => setIsSignInPage(false)}\n            errors={signInErrors}\n          />\n        ) : (\n          <SignUp\n            onSubmit={handleSignUp}\n            onChangePage={() => setIsSignInPage(true)}\n            errors={{ ...signUpErrors }}\n          />\n        )}\n      </div>\n    </ThemeProvider>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}