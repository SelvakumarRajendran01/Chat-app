{"ast":null,"code":"import _axios, { create as Create } from \"axios\";\nimport Cookies from \"js-cookie\";\nconst UNIQUE_USER_KEY = \"unique_user_key\";\nconst cookie = new Cookies();\nfunction getUniqueKey() {\n  let uniqueKey = cookie.get(UNIQUE_USER_KEY, {\n    path: \"/\"\n  });\n  if (!uniqueKey) {\n    // uniqueKey = UUID.randomUUID();\n    // cookie.set(UNIQUE_USER_KEY, uniqueKey, {path: '/'});\n  }\n  return uniqueKey;\n}\nfunction getAuthToken() {\n  return Cookies.get(\"accesToken\", {\n    path: \"/\"\n  });\n}\nfunction handleError(error) {\n  console.error(error);\n}\nconst axios = Create({\n  baseURL: \"/api\"\n  // timeout: 1000,\n});\nexport const getWithCancel = async (url, success, error) => {\n  try {\n    if (window.source) {\n      window.source.cancel();\n      window.source = null;\n    }\n    const CancelToken = _axios.CancelToken;\n    window.source = CancelToken.source();\n    const {\n      data\n    } = await axios({\n      mathod: \"get\",\n      url: url,\n      responseType: \"application/json\",\n      cancelToken: window.source.token,\n      headers: {\n        authorization: \"bearer \" + getAuthToken()\n      }\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\nexport const get = async (url, success, error) => {\n  try {\n    const {\n      data\n    } = await axios({\n      mathod: \"get\",\n      url: url,\n      responseType: \"application/json\",\n      headers: {\n        authorization: \"bearer \" + getAuthToken()\n      }\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\nexport const deleteApi = async (url, success, error) => {\n  try {\n    const {\n      data\n    } = await axios({\n      mathod: \"delete\",\n      url: url,\n      responseType: \"application/json\",\n      headers: {\n        authorization: \"bearer \" + getAuthToken()\n      }\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\nexport const post = async (url, reqData, success, error) => {\n  try {\n    const {\n      data\n    } = await axios({\n      method: \"post\",\n      url: url,\n      data: reqData,\n      responseType: \"application/json\",\n      headers: {\n        authorization: \"bearer \" + getAuthToken()\n      }\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\nexport const signUp = async (url, reqData, success, error) => {\n  try {\n    const {\n      data\n    } = await axios({\n      method: \"post\",\n      url: url,\n      data: reqData,\n      responseType: \"application/json\"\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\nexport const put = async (url, reqData, success, error) => {\n  try {\n    const {\n      data\n    } = await axios({\n      method: \"put\",\n      url: url,\n      data: reqData,\n      responseType: \"application/json\",\n      headers: {\n        authorization: \"bearer \" + getAuthToken()\n      }\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};","map":{"version":3,"names":["_axios","create","Create","Cookies","UNIQUE_USER_KEY","cookie","getUniqueKey","uniqueKey","get","path","getAuthToken","handleError","error","console","axios","baseURL","getWithCancel","url","success","window","source","cancel","CancelToken","data","mathod","responseType","cancelToken","token","headers","authorization","err","deleteApi","post","reqData","method","signUp","put"],"sources":["/Users/mohanselva/Documents/whatsapp-MERN/client/src/api/Api.js"],"sourcesContent":["import _axios, { create as Create } from \"axios\";\nimport Cookies from \"js-cookie\";\n\nconst UNIQUE_USER_KEY = \"unique_user_key\";\nconst cookie = new Cookies();\n\nfunction getUniqueKey() {\n  let uniqueKey = cookie.get(UNIQUE_USER_KEY, { path: \"/\" });\n  if (!uniqueKey) {\n    // uniqueKey = UUID.randomUUID();\n    // cookie.set(UNIQUE_USER_KEY, uniqueKey, {path: '/'});\n  }\n  return uniqueKey;\n}\n\nfunction getAuthToken() {\n  return Cookies.get(\"accesToken\", { path: \"/\" });\n}\n\nfunction handleError(error) {\n  console.error(error);\n}\n\nconst axios = Create({\n  baseURL: \"/api\",\n  // timeout: 1000,\n});\n\nexport const getWithCancel = async (url, success, error) => {\n  try {\n    if (window.source) {\n      window.source.cancel();\n      window.source = null;\n    }\n    const CancelToken = _axios.CancelToken;\n    window.source = CancelToken.source();\n    const { data } = await axios({\n      mathod: \"get\",\n      url: url,\n      responseType: \"application/json\",\n      cancelToken: window.source.token,\n      headers: { authorization: \"bearer \" + getAuthToken() },\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport const get = async (url, success, error) => {\n  try {\n    const { data } = await axios({\n      mathod: \"get\",\n      url: url,\n      responseType: \"application/json\",\n      headers: { authorization: \"bearer \" + getAuthToken() },\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport const deleteApi = async (url, success, error) => {\n  try {\n    const { data } = await axios({\n      mathod: \"delete\",\n      url: url,\n      responseType: \"application/json\",\n      headers: { authorization: \"bearer \" + getAuthToken() },\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport const post = async (url, reqData, success, error) => {\n  try {\n    const { data } = await axios({\n      method: \"post\",\n      url: url,\n      data: reqData,\n      responseType: \"application/json\",\n      headers: { authorization: \"bearer \" + getAuthToken() },\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport const signUp = async (url, reqData, success, error) => {\n  try {\n    const { data } = await axios({\n      method: \"post\",\n      url: url,\n      data: reqData,\n      responseType: \"application/json\",\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport const put = async (url, reqData, success, error) => {\n  try {\n    const { data } = await axios({\n      method: \"put\",\n      url: url,\n      data: reqData,\n      responseType: \"application/json\",\n      headers: { authorization: \"bearer \" + getAuthToken() },\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}