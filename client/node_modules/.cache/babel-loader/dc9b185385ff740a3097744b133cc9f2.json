{"ast":null,"code":"import _axios,{create as Create}from\"axios\";// import Cookies from \"js-cookie\";\nconst UNIQUE_USER_KEY=\"unique_user_key\";// const cookie = new Cookies();\n// function getUniqueKey() {\n//   let uniqueKey = cookie.get(UNIQUE_USER_KEY, { path: \"/\" });\n//   if (!uniqueKey) {\n//     // uniqueKey = UUID.randomUUID();\n//     // cookie.set(UNIQUE_USER_KEY, uniqueKey, {path: '/'});\n//   }\n//   return uniqueKey;\n// }\nfunction getAuthToken(){return sessionStorage.getItem(\"accesToken\",{path:\"/\"});}function handleError(error){console.error(error);}const axios=Create({baseURL:\"/api\"// timeout: 1000,\n});export const getWithCancel=async(url,success,error)=>{try{if(window.source){window.source.cancel();window.source=null;}const CancelToken=_axios.CancelToken;window.source=CancelToken.source();const{data}=await axios({mathod:\"get\",url:url,responseType:\"application/json\",cancelToken:window.source.token,headers:{authorization:\"bearer \"+getAuthToken()}});success(data);}catch(err){error(err);}};export const get=async(url,success,error)=>{try{const{data}=await axios({mathod:\"get\",url:url,responseType:\"application/json\",headers:{authorization:\"bearer \"+getAuthToken()}});success(data);}catch(err){error(err);}};export const deleteApi=async(url,success,error)=>{try{const{data}=await axios({mathod:\"delete\",url:url,responseType:\"application/json\",headers:{authorization:\"bearer \"+getAuthToken()}});success(data);}catch(err){error(err);}};export const post=async(url,reqData,success,error)=>{try{const{data}=await axios({method:\"post\",url:url,data:reqData,responseType:\"application/json\",headers:{authorization:\"bearer \"+getAuthToken()}});success(data);}catch(err){error(err);}};export const signUp=async(url,reqData,success,error)=>{try{const{data}=await axios({method:\"post\",url:url,data:reqData,responseType:\"application/json\"});success(data);}catch(err){error(err);}};export const put=async(url,reqData,success,error)=>{try{const{data}=await axios({method:\"put\",url:url,data:reqData,responseType:\"application/json\",headers:{authorization:\"bearer \"+getAuthToken()}});success(data);}catch(err){error(err);}};","map":{"version":3,"names":["_axios","create","Create","UNIQUE_USER_KEY","getAuthToken","sessionStorage","getItem","path","handleError","error","console","axios","baseURL","getWithCancel","url","success","window","source","cancel","CancelToken","data","mathod","responseType","cancelToken","token","headers","authorization","err","get","deleteApi","post","reqData","method","signUp","put"],"sources":["/Users/mohanselva/Desktop/Private_Projects/Chat-app/client/src/api/Api.js"],"sourcesContent":["import _axios, { create as Create } from \"axios\";\n// import Cookies from \"js-cookie\";\n\nconst UNIQUE_USER_KEY = \"unique_user_key\";\n// const cookie = new Cookies();\n\n// function getUniqueKey() {\n//   let uniqueKey = cookie.get(UNIQUE_USER_KEY, { path: \"/\" });\n//   if (!uniqueKey) {\n//     // uniqueKey = UUID.randomUUID();\n//     // cookie.set(UNIQUE_USER_KEY, uniqueKey, {path: '/'});\n//   }\n//   return uniqueKey;\n// }\n\n\n\nfunction getAuthToken() {\n  return sessionStorage.getItem(\"accesToken\", { path: \"/\" });\n}\n\nfunction handleError(error) {\n  console.error(error);\n}\n\nconst axios = Create({\n  baseURL: \"/api\",\n  // timeout: 1000,\n});\n\nexport const getWithCancel = async (url, success, error) => {\n  try {\n    if (window.source) {\n      window.source.cancel();\n      window.source = null;\n    }\n    const CancelToken = _axios.CancelToken;\n    window.source = CancelToken.source();\n    const { data } = await axios({\n      mathod: \"get\",\n      url: url,\n      responseType: \"application/json\",\n      cancelToken: window.source.token,\n      headers: { authorization: \"bearer \" + getAuthToken() },\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport const get = async (url, success, error) => {\n  try {\n    const { data } = await axios({\n      mathod: \"get\",\n      url: url,\n      responseType: \"application/json\",\n      headers: { authorization: \"bearer \" + getAuthToken() },\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport const deleteApi = async (url, success, error) => {\n  try {\n    const { data } = await axios({\n      mathod: \"delete\",\n      url: url,\n      responseType: \"application/json\",\n      headers: { authorization: \"bearer \" + getAuthToken() },\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport const post = async (url, reqData, success, error) => {\n  try {\n    const { data } = await axios({\n      method: \"post\",\n      url: url,\n      data: reqData,\n      responseType: \"application/json\",\n      headers: { authorization: \"bearer \" + getAuthToken() },\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport const signUp = async (url, reqData, success, error) => {\n  try {\n    const { data } = await axios({\n      method: \"post\",\n      url: url,\n      data: reqData,\n      responseType: \"application/json\",\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport const put = async (url, reqData, success, error) => {\n  try {\n    const { data } = await axios({\n      method: \"put\",\n      url: url,\n      data: reqData,\n      responseType: \"application/json\",\n      headers: { authorization: \"bearer \" + getAuthToken() },\n    });\n    success(data);\n  } catch (err) {\n    error(err);\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}