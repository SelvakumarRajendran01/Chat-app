{"ast":null,"code":"var _jsxFileName = \"/Users/mohanselva/Desktop/Private_Projects/Chat-app/client/src/components/SideBar/index.js\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport \"./style.css\";\nimport { useTheme } from \"@material-ui/core\";\nimport { AccountCircle as AccountCircleIcon, Message as MessageIcon, MoreVert as MenuIcon, Search as SearchIcon, ArrowDownward } from \"@material-ui/icons\";\nimport ChatSnippet from \"../ChatSnippet\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport AddUser from \"../AddUser\";\nimport ConvoDrawer from \"../StartConversationDrawer\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setCurrentRoom } from \"../../store/actions/roomAction\";\nimport SidebarDropdown from \"../SidebarDropdown\";\nimport ImageFromBuffer from \"../ImageFromBuffer\";\nimport ProfileDrawer from \"../ProfileDrawer\";\nimport { motion, useAnimation } from \"framer-motion\";\nimport SearchBar from \"../SearchBar\";\nimport getDay from \"../../utils/day.js\";\nconst SideBar = props => {\n  const [isAddUserModalOpen, setIsAddUserModalOpen] = useState(false);\n  const [isConvoDrawerOpen, setIsConvoDrawerOpen] = useState(false);\n  const [isProfileDrawerOpen, setIsProfileDrawerOpen] = useState(false);\n  const [isSidebarDropdownOpen, setIsSidebarDropdownOpen] = useState(false);\n  const [addedUserNumber, setAddedUserNumber] = useState(0);\n  const [isAddButtonHovering, setIsAddButtonHovering] = useState(false);\n  const dropDownRef = useRef();\n  const [searchInput, setSearchInput] = useState(\"\");\n  const theme = useTheme();\n  const dispatch = useDispatch();\n  const {\n    chatRooms,\n    id: userId,\n    profileImage\n  } = useSelector(state => state.user);\n  const activeChatRoomId = useSelector(state => state.room.currentChatRoomId);\n  useEffect(() => {\n    const checkClickOutsideBox = e => {\n      console.log(dropDownRef.current);\n      if (dropDownRef.current && !dropDownRef.current.contains(e.target)) {\n        setIsSidebarDropdownOpen(false);\n      }\n    };\n    document.addEventListener(\"click\", checkClickOutsideBox);\n    const onUnmount = () => {\n      document.removeEventListener(\"click\", checkClickOutsideBox);\n    };\n    return onUnmount;\n  });\n  useEffect(() => {\n    let counter = 0;\n    for (let i = 0; i < chatRooms.length; i++) {\n      if (counter > 100) {\n        break;\n      }\n      if (chatRooms[i].chats.length === 0) {\n        counter++;\n      }\n    }\n    setAddedUserNumber(counter);\n  }, [chatRooms]);\n  const {\n    background,\n    text,\n    icon\n  } = theme.palette;\n  const showRoomsWithChat = () => {\n    let RoomComponents = [];\n    chatRooms.forEach((room, index) => {\n      if (!room.chats) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null);\n      }\n      if (room.chats.length !== 0) {\n        const otherUserInfo = room.users[0]._id === userId ? room.users[1] : room.users[0];\n        if (searchInput && !otherUserInfo.displayName.match(new RegExp(`${searchInput}`, \"i\"))) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null);\n        }\n        let date = new Date(room.chats[room.chats.length - 1].time);\n        const diffTime = Math.abs(new Date() - date);\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        let currentDay = getDay(diffDays, date);\n        if (currentDay === \"Today\") {\n          currentDay = `${date.getHours()}:${date.getMinutes()}`;\n        }\n        RoomComponents.push(/*#__PURE__*/React.createElement(ChatSnippet, {\n          name: otherUserInfo.displayName,\n          profileImage: otherUserInfo.profileImage,\n          lastMessage: room.chats[room.chats.length - 1].text,\n          time: currentDay,\n          onClick: e => dispatch(setCurrentRoom(room._id)),\n          style: room._id === activeChatRoomId ? {\n            background: background.chatListBackgroundActive\n          } : {},\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 11\n          }\n        }));\n      }\n    });\n    return RoomComponents;\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    show: isAddUserModalOpen,\n    onHide: () => setIsAddUserModalOpen(false),\n    size: \"lg\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AddUser, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ConvoDrawer, {\n    openDrawer: isConvoDrawerOpen,\n    handleCloseDrawer: e => {\n      setIsConvoDrawerOpen(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ProfileDrawer, {\n    openDrawer: isProfileDrawerOpen,\n    handleCloseDrawer: e => setIsProfileDrawerOpen(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBar__header\",\n    style: {\n      background: background.headerBackground\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBar__header__left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, profileImage.contentType ? /*#__PURE__*/React.createElement(ImageFromBuffer, {\n    arrayBuffer: profileImage.data.data,\n    contentType: profileImage.contentType,\n    className: \"chatSnippet__image\",\n    style: {\n      cursor: \"pointer\"\n    },\n    onClick: e => setIsProfileDrawerOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(AccountCircleIcon, {\n    style: {\n      cursor: \"pointer\"\n    },\n    onClick: e => setIsProfileDrawerOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBar__header__right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBar__header__right__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sideBar__header__right__container__num\",\n    style: {\n      color: icon.addedUserIconNumber\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  }, addedUserNumber ? addedUserNumber : \"\"), /*#__PURE__*/React.createElement(MessageIcon, {\n    style: {\n      color: icon.iconColor\n    },\n    onClick: e => setIsConvoDrawerOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__menu-icon-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MenuIcon, {\n    onClick: e => setIsSidebarDropdownOpen(true),\n    ref: dropDownRef,\n    style: {\n      color: icon.iconColor\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(SidebarDropdown, {\n    isOpen: isSidebarDropdownOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(SearchBar, {\n    searchInput: searchInput,\n    setSearchInput: setSearchInput,\n    placeHolder: \"Search user..\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBar__chats\",\n    style: {\n      background: background.siderBarChatListBackground\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }, showRoomsWithChat()), /*#__PURE__*/React.createElement(Button, {\n    className: \"sideBar__add__button\",\n    onClick: e => setIsAddUserModalOpen(true),\n    onMouseEnter: e => setIsAddButtonHovering(true),\n    onMouseLeave: e => setIsAddButtonHovering(false),\n    style: {\n      background: isAddButtonHovering ? background.buttonBackgroundHover : background.buttonBackground,\n      color: text.inverseStrong,\n      height: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, \"+\")));\n};\nexport default SideBar;","map":{"version":3,"names":["React","useRef","useEffect","useState","useTheme","AccountCircle","AccountCircleIcon","Message","MessageIcon","MoreVert","MenuIcon","Search","SearchIcon","ArrowDownward","ChatSnippet","Button","Modal","AddUser","ConvoDrawer","useSelector","useDispatch","setCurrentRoom","SidebarDropdown","ImageFromBuffer","ProfileDrawer","motion","useAnimation","SearchBar","getDay","SideBar","props","isAddUserModalOpen","setIsAddUserModalOpen","isConvoDrawerOpen","setIsConvoDrawerOpen","isProfileDrawerOpen","setIsProfileDrawerOpen","isSidebarDropdownOpen","setIsSidebarDropdownOpen","addedUserNumber","setAddedUserNumber","isAddButtonHovering","setIsAddButtonHovering","dropDownRef","searchInput","setSearchInput","theme","dispatch","chatRooms","id","userId","profileImage","state","user","activeChatRoomId","room","currentChatRoomId","checkClickOutsideBox","e","console","log","current","contains","target","document","addEventListener","onUnmount","removeEventListener","counter","i","length","chats","background","text","icon","palette","showRoomsWithChat","RoomComponents","forEach","index","createElement","Fragment","otherUserInfo","users","_id","displayName","match","RegExp","date","Date","time","diffTime","Math","abs","diffDays","ceil","currentDay","getHours","getMinutes","push","name","lastMessage","onClick","style","chatListBackgroundActive","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","show","onHide","size","centered","className","openDrawer","handleCloseDrawer","headerBackground","contentType","arrayBuffer","data","cursor","color","addedUserIconNumber","iconColor","ref","isOpen","placeHolder","siderBarChatListBackground","onMouseEnter","onMouseLeave","buttonBackgroundHover","buttonBackground","inverseStrong","height"],"sources":["/Users/mohanselva/Desktop/Private_Projects/Chat-app/client/src/components/SideBar/index.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport \"./style.css\";\nimport { useTheme } from \"@material-ui/core\";\nimport {\n  AccountCircle as AccountCircleIcon,\n  Message as MessageIcon,\n  MoreVert as MenuIcon,\n  Search as SearchIcon,\n  ArrowDownward,\n} from \"@material-ui/icons\";\nimport ChatSnippet from \"../ChatSnippet\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport AddUser from \"../AddUser\";\nimport ConvoDrawer from \"../StartConversationDrawer\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setCurrentRoom } from \"../../store/actions/roomAction\";\nimport SidebarDropdown from \"../SidebarDropdown\";\nimport ImageFromBuffer from \"../ImageFromBuffer\";\nimport ProfileDrawer from \"../ProfileDrawer\";\nimport { motion, useAnimation } from \"framer-motion\";\nimport SearchBar from \"../SearchBar\";\nimport getDay from \"../../utils/day.js\";\n\nconst SideBar = (props) => {\n  const [isAddUserModalOpen, setIsAddUserModalOpen] = useState(false);\n  const [isConvoDrawerOpen, setIsConvoDrawerOpen] = useState(false);\n  const [isProfileDrawerOpen, setIsProfileDrawerOpen] = useState(false);\n  const [isSidebarDropdownOpen, setIsSidebarDropdownOpen] = useState(false);\n  const [addedUserNumber, setAddedUserNumber] = useState(0);\n  const [isAddButtonHovering, setIsAddButtonHovering] = useState(false);\n  const dropDownRef = useRef();\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  const theme = useTheme();\n  const dispatch = useDispatch();\n\n\n\n  const { chatRooms, id: userId, profileImage } = useSelector(\n    (state) => state.user\n  );\n\n  const activeChatRoomId = useSelector((state) => state.room.currentChatRoomId);\n\n  useEffect(() => {\n    const checkClickOutsideBox = (e) => {\n      console.log(dropDownRef.current);\n      if (dropDownRef.current && !dropDownRef.current.contains(e.target)) {\n        setIsSidebarDropdownOpen(false);\n      }\n    };\n\n    document.addEventListener(\"click\", checkClickOutsideBox);\n\n    const onUnmount = () => {\n      document.removeEventListener(\"click\", checkClickOutsideBox);\n    };\n    return onUnmount;\n  });\n\n  useEffect(() => {\n    let counter = 0;\n    for (let i = 0; i < chatRooms.length; i++) {\n      if (counter > 100) {\n        break;\n      }\n      if (chatRooms[i].chats.length === 0) {\n        counter++;\n      }\n    }\n    setAddedUserNumber(counter);\n  }, [chatRooms]);\n\n\n  const { background, text, icon } = theme.palette;\n\n  const showRoomsWithChat = () => {\n    let RoomComponents = [];\n    chatRooms.forEach((room, index) => {\n      if (!room.chats) {\n        return <></>;\n      }\n\n      if (room.chats.length !== 0) {\n        const otherUserInfo =\n          room.users[0]._id === userId ? room.users[1] : room.users[0];\n        if (\n          searchInput &&\n          !otherUserInfo.displayName.match(new RegExp(`${searchInput}`, \"i\"))\n        ) {\n          return <></>;\n        }\n        let date = new Date(room.chats[room.chats.length - 1].time);\n        const diffTime = Math.abs(new Date() - date);\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        let currentDay = getDay(diffDays,date);\n        if(currentDay === \"Today\")\n          {\n            currentDay = `${date.getHours()}:${date.getMinutes()}`;\n          }\n        RoomComponents.push(\n          <ChatSnippet\n            name={otherUserInfo.displayName}\n            profileImage={otherUserInfo.profileImage}\n            lastMessage={room.chats[room.chats.length - 1].text}\n            time={currentDay}\n   \n            onClick={(e) => dispatch(setCurrentRoom(room._id))}\n            style={\n              room._id === activeChatRoomId\n                ? { background: background.chatListBackgroundActive }\n                : {}\n            }\n          />\n        );\n      }\n    });\n\n    return RoomComponents;\n  };\n\n  return (\n    <>\n      <Modal\n        show={isAddUserModalOpen}\n        onHide={() => setIsAddUserModalOpen(false)}\n        size=\"lg\"\n        centered\n      >\n        <AddUser />\n      </Modal>\n\n      <div className=\"sideBar\">\n        <ConvoDrawer\n          openDrawer={isConvoDrawerOpen}\n          handleCloseDrawer={(e) => {\n            setIsConvoDrawerOpen(false);\n          }}\n        />\n        <ProfileDrawer\n          openDrawer={isProfileDrawerOpen}\n          handleCloseDrawer={(e) => setIsProfileDrawerOpen(false)}\n        />\n        <div\n          className=\"sideBar__header\"\n          style={{ background: background.headerBackground }}\n        >\n          <div className=\"sideBar__header__left\">\n            {profileImage.contentType ? (\n              <ImageFromBuffer\n                arrayBuffer={profileImage.data.data}\n                contentType={profileImage.contentType}\n                className=\"chatSnippet__image\"\n                style={{ cursor: \"pointer\" }}\n                onClick={(e) => setIsProfileDrawerOpen(true)}\n              />\n            ) : (\n              <AccountCircleIcon\n                style={{ cursor: \"pointer\" }}\n                onClick={(e) => setIsProfileDrawerOpen(true)}\n              />\n            )}\n          </div>\n          <div className=\"sideBar__header__right\">\n            <div className=\"sideBar__header__right__container\">\n              <span\n                className=\"sideBar__header__right__container__num\"\n                style={{ color: icon.addedUserIconNumber }}\n              >\n                {addedUserNumber ? addedUserNumber : \"\"}\n              </span>\n              <MessageIcon\n                style={{ color: icon.iconColor }}\n                onClick={(e) => setIsConvoDrawerOpen(true)}\n              />\n            </div>\n\n            <div className=\"sidebar__menu-icon-wrapper\">\n              <MenuIcon\n                onClick={(e) => setIsSidebarDropdownOpen(true)}\n                ref={dropDownRef}\n                style={{ color: icon.iconColor }}\n              />\n              <SidebarDropdown isOpen={isSidebarDropdownOpen} />\n            </div>\n          </div>\n        </div>\n        <SearchBar searchInput={searchInput} setSearchInput={setSearchInput}  placeHolder={\"Search user..\"} />  \n        <div\n          className=\"sideBar__chats\"\n          style={{ background: background.siderBarChatListBackground }}\n        >\n          {showRoomsWithChat()}\n        </div>\n        <Button\n          className=\"sideBar__add__button\"\n          onClick={(e) => setIsAddUserModalOpen(true)}\n          onMouseEnter={e => setIsAddButtonHovering(true)}\n          onMouseLeave={e => setIsAddButtonHovering(false)}\n          style={{\n            background:isAddButtonHovering ? background.buttonBackgroundHover : background.buttonBackground,\n            color: text.inverseStrong,\n            height:\"50px\"\n          }}\n        >\n          +\n        </Button>\n      </div>\n    </>\n  );\n};\n\nexport default SideBar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}